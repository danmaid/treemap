(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e(require("vue")):"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["treemap"]=e(require("vue")):t["treemap"]=e(t["Vue"])})("undefined"!==typeof self?self:this,(function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({1233:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dm-treemap"},[t.treeMap?n("svg",{attrs:{width:t.width,height:t.height}},t._l(t.treeMap.children,(function(e,r){return n("g",{key:r,attrs:{fill:t.getColor(r)}},[n("rect",{staticStyle:{"stroke-width":"1",stroke:"white"},attrs:{x:e.x0,y:e.y0,width:e.x1-e.x0,height:e.y1-e.y0}}),n("text",{attrs:{fill:"white",x:e.x0+10,y:e.y0+20}},[t._v(t._s(e.data.text)+" "+t._s(e.value))]),t._l(e.children,(function(t,e){return n("g",{key:r+"-"+e,attrs:{fill:"transparent"}},[n("rect",{staticStyle:{"stroke-width":"1",stroke:"white",opacity:"0.4"},attrs:{x:t.x0,y:t.y0,width:t.x1-t.x0,height:t.y1-t.y0}})])}))],2)})),0):t._e()])},i=[],o=n("8bbf"),u=n.n(o);function c(t){var e=0,n=t.children,r=n&&n.length;if(r)while(--r>=0)e+=n[r].value;else e=1;t.value=e}var a=function(){return this.eachAfter(c)},f=function(t){var e,n,r,i,o=this,u=[o];do{e=u.reverse(),u=[];while(o=e.pop())if(t(o),n=o.children,n)for(r=0,i=n.length;r<i;++r)u.push(n[r])}while(u.length);return this},l=function(t){var e,n,r=this,i=[r];while(r=i.pop())if(t(r),e=r.children,e)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},h=function(t){var e,n,r,i=this,o=[i],u=[];while(i=o.pop())if(u.push(i),e=i.children,e)for(n=0,r=e.length;n<r;++n)o.push(e[n]);while(i=u.pop())t(i);return this},d=function(t){return this.eachAfter((function(e){var n=+t(e.data)||0,r=e.children,i=r&&r.length;while(--i>=0)n+=r[i].value;e.value=n}))},s=function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},p=function(t){var e=this,n=v(e,t),r=[e];while(e!==n)e=e.parent,r.push(e);var i=r.length;while(t!==n)r.splice(i,0,t),t=t.parent;return r};function v(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();while(t===e)i=t,t=n.pop(),e=r.pop();return i}var y=function(){var t=this,e=[t];while(t=t.parent)e.push(t);return e},g=function(){var t=[];return this.each((function(e){t.push(e)})),t},w=function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},m=function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e};function x(t,e){var n,r,i,o,u,c=new j(t),a=+t.value&&(c.value=t.value),f=[c];null==e&&(e=_);while(n=f.pop())if(a&&(n.value=+n.data.value),(i=e(n.data))&&(u=i.length))for(n.children=new Array(u),o=u-1;o>=0;--o)f.push(r=n.children[o]=new j(i[o])),r.parent=n,r.depth=n.depth+1;return c.eachBefore(M)}function b(){return x(this).eachBefore(S)}function _(t){return t.children}function S(t){t.data=t.data.data}function M(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function j(t){this.data=t,this.depth=this.height=0,this.parent=null}j.prototype=x.prototype={constructor:j,count:a,each:f,eachAfter:h,eachBefore:l,sum:d,sort:s,path:p,ancestors:y,descendants:g,leaves:w,links:m,copy:b};var O=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},T=function(t,e,n,r,i){var o,u=t.children,c=-1,a=u.length,f=t.value&&(r-e)/t.value;while(++c<a)o=u[c],o.y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*f},C=function(t,e,n,r,i){var o,u=t.children,c=-1,a=u.length,f=t.value&&(i-n)/t.value;while(++c<a)o=u[c],o.x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*f},$=(1+Math.sqrt(5))/2;function k(t,e,n,r,i,o){var u,c,a,f,l,h,d,s,p,v,y,g=[],w=e.children,m=0,x=0,b=w.length,_=e.value;while(m<b){a=i-n,f=o-r;do{l=w[x++].value}while(!l&&x<b);for(h=d=l,v=Math.max(f/a,a/f)/(_*t),y=l*l*v,p=Math.max(d/y,y/h);x<b;++x){if(l+=c=w[x].value,c<h&&(h=c),c>d&&(d=c),y=l*l*v,s=Math.max(d/y,y/h),s>p){l-=c;break}p=s}g.push(u={value:l,dice:a<f,children:w.slice(m,x)}),u.dice?T(u,n,r,i,_?r+=f*l/_:o):C(u,n,r,_?n+=a*l/_:i,o),_-=l,m=x}return g}var B=function t(e){function n(t,n,r,i,o){k(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}($);function E(t){if("function"!==typeof t)throw new Error;return t}function R(){return 0}var A=function(t){return function(){return t}},P=function(){var t=B,e=!1,n=1,r=1,i=[0],o=R,u=R,c=R,a=R,f=R;function l(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(h),i=[0],e&&t.eachBefore(O),t}function h(e){var n=i[e.depth],r=e.x0+n,l=e.y0+n,h=e.x1-n,d=e.y1-n;h<r&&(r=h=(r+h)/2),d<l&&(l=d=(l+d)/2),e.x0=r,e.y0=l,e.x1=h,e.y1=d,e.children&&(n=i[e.depth+1]=o(e)/2,r+=f(e)-n,l+=u(e)-n,h-=c(e)-n,d-=a(e)-n,h<r&&(r=h=(r+h)/2),d<l&&(l=d=(l+d)/2),t(e,r,l,h,d))}return l.round=function(t){return arguments.length?(e=!!t,l):e},l.size=function(t){return arguments.length?(n=+t[0],r=+t[1],l):[n,r]},l.tile=function(e){return arguments.length?(t=E(e),l):t},l.padding=function(t){return arguments.length?l.paddingInner(t).paddingOuter(t):l.paddingInner()},l.paddingInner=function(t){return arguments.length?(o="function"===typeof t?t:A(+t),l):o},l.paddingOuter=function(t){return arguments.length?l.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):l.paddingTop()},l.paddingTop=function(t){return arguments.length?(u="function"===typeof t?t:A(+t),l):u},l.paddingRight=function(t){return arguments.length?(c="function"===typeof t?t:A(+t),l):c},l.paddingBottom=function(t){return arguments.length?(a="function"===typeof t?t:A(+t),l):a},l.paddingLeft=function(t){return arguments.length?(f="function"===typeof t?t:A(+t),l):f},l},L=function(t,e,n,r,i){var o,u,c=t.children,a=c.length,f=new Array(a+1);for(f[0]=u=o=0;o<a;++o)f[o+1]=u+=c[o].value;function l(t,e,n,r,i,o,u){if(t>=e-1){var a=c[t];return a.x0=r,a.y0=i,a.x1=o,void(a.y1=u)}var h=f[t],d=n/2+h,s=t+1,p=e-1;while(s<p){var v=s+p>>>1;f[v]<d?s=v+1:p=v}d-f[s-1]<f[s]-d&&t+1<s&&--s;var y=f[s]-h,g=n-y;if(o-r>u-i){var w=(r*g+o*y)/n;l(t,s,y,r,i,w,u),l(s,e,g,w,i,o,u)}else{var m=(i*g+u*y)/n;l(t,s,y,r,i,o,m),l(s,e,g,r,m,o,u)}}l(0,a,t.value,e,n,r,i)},N=function(t){var e=t.length/6|0,n=new Array(e),r=0;while(r<e)n[r]="#"+t.slice(6*r,6*++r);return n},V=N("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),q=u.a.extend({props:{value:{type:Object,required:!0},width:{type:Number,default:1024},height:{type:Number,default:768},colors:{type:Array,default:function(){return V}}},data:function(){return{treeMap:void 0}},mounted:function(){this.treeMap=this.calculate()},methods:{calculate:function(t){var e=this,n=e.width,r=e.height,i=t||this.value,o=x(i).sum((function(t){return t.children?0:1})),u=P().tile(L).size([n,r]);return u(o)},getColor:function(t){var e=this.colors;return e[t%e.length]}}}),D=q;function I(t,e,n,r,i,o,u,c){var a,f="function"===typeof t?t.options:t;if(e&&(f.render=e,f.staticRenderFns=n,f._compiled=!0),r&&(f.functional=!0),o&&(f._scopeId="data-v-"+o),u?(a=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(u)},f._ssrRegister=a):i&&(a=c?function(){i.call(this,(f.functional?this.parent:this).$root.$options.shadowRoot)}:i),a)if(f.functional){f._injectStyles=a;var l=f.render;f.render=function(t,e){return a.call(e),l(t,e)}}else{var h=f.beforeCreate;f.beforeCreate=h?[].concat(h,a):[a]}return{exports:t,options:f}}var H=I(D,r,i,!1,null,null,null);e["a"]=H.exports},"34e9":function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return i}));var r=n("1233");function i(t){i.installed||(i.installed=!0,t.component("DmTreemap",r["a"]))}const o={install:i};let u=null;"undefined"!==typeof window?u=window.Vue:"undefined"!==typeof t&&(u=t.Vue),u&&u.use(o),e["a"]=r["a"]}).call(this,n("c8ba"))},8875:function(t,e,n){var r,i,o;(function(n,u){i=[],r=u,o="function"===typeof r?r.apply(e,i):r,void 0===o||(t.exports=o)})("undefined"!==typeof self&&self,(function(){function t(){const e=Object.getOwnPropertyDescriptor(document,"currentScript");if(!e&&"currentScript"in document&&document.currentScript)return document.currentScript;if(e&&e.get!==t&&document.currentScript)return document.currentScript;try{throw new Error}catch(s){var n,r,i,o=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,u=/@([^@]*):(\d+):(\d+)\s*$/gi,c=o.exec(s.stack)||u.exec(s.stack),a=c&&c[1]||!1,f=c&&c[2]||!1,l=document.location.href.replace(document.location.hash,""),h=document.getElementsByTagName("script");a===l&&(n=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(f-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),i=n.replace(r,"$1").trim());for(var d=0;d<h.length;d++){if("interactive"===h[d].readyState)return h[d];if(h[d].src===a)return h[d];if(a===l&&h[d].innerHTML&&h[d].innerHTML.trim()===i)return h[d]}return null}}return t}))},"8bbf":function(e,n){e.exports=t},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},fb15:function(t,e,n){"use strict";if(n.r(e),n.d(e,"install",(function(){return u["b"]})),"undefined"!==typeof window){var r=window.document.currentScript,i=n("8875");r=i(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:i});var o=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(n.p=o[1])}var u=n("34e9");e["default"]=u["a"]}})}));
//# sourceMappingURL=treemap.umd.min.js.map